---
dg-publish: true
deck: webdev::cypress
---

# anki-cypress

Flashcards for anki-cypress. Created with [Obsidian Anki Sync](https://github.com/debanjandhar12/Obsidian-Anki-Sync) notation.

[TOC]

---

<!-- basicblock-start oid="ObsLd1pJDHN6q8H7oDxTVR15" -->
## Install cypress in a project
::
```sh
npm install cypress --save-dev
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsHgjmBVkCu7kU7tQrJT6x3" -->
## Open cypress
::
```sh
npx cypress open
```
<!-- basicblock-end -->

---

<!-- basicblock-start oid="ObsNqmEIJVgjK2pFyUPNsl0V" -->
## Run cypress in headless mode
::
```sh
npx cypress run # --browser firefox
```
**NOTE**: it saves videos by default (can be disabled).
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsUm9wNtKwM2VDnXc0ObJQ6" -->
## Enable cypress IntelliSense in a file
::
```js
/// <reference types="cypress" />
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsKHsFg2LrNOfgv1oq0TQVO" -->
## What are the 4 basic cypress hooks?
::
- before
- beforeEach
- afterEach
- after
<!-- basicblock-end -->


---

<!-- basicblock-start oid="Obsl62nPkYM6Ri3aQzOUq6wu" -->
## 5 Examples of parent commands
::
```js
cy.visit('/conference');

// get an DOM element
cy.get('h1');

// make an HTTP request, default method: GET
cy.request('http://dev.local/seed');

// run system command
cy.exec('npm run build');

// manage the behavior of network requests/responses
cy.intercept('/users/**');
```
<!-- basicblock-end -->


---

<!-- basicblock-start oid="Obsrpi5YWrykjZ792xl5ffVj" -->
## 6 Examples of child commands
::
```js
cy.get('[data-cy=speakerProfile]')
  .click(); // <-- ðŸ‘ˆ this is a child command

cy.get('[data-cy=sessionTitle]')
  .type('My new session');

cy.get('.conference')
  .find('footer');

cy.contains('ul', 'room number')
  .should('be.visible');

cy.get('footer')
  .scrollIntoView();

cy.get('form')
  .submit();
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsCBNKZKPSL8qbJzwuBsJSt" -->
## 4 Examples of dual commands
::
```js
cy.contains();
cy.screenshot();
cy.scrollTo();
cy.wait();
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsNp9CUMho8zMygxR5UJeSP" -->
## Better way to select elements
::
Using `data-cy`, `data-test` or `data-testid`. Example:
```html
<element data-cy="my-element" />
```

```js
cy.get('[data-cy="my-element"]')
```
<!-- basicblock-end -->


---

<!-- basicblock-start oid="ObsO44WuuyjXVAvf6ClIE1c0" -->
## Create cypress aliases
::
```js
// declare the alias
cy.get('[data-cy=Wednesday]')
  .as('WednesdayBtn')

// call the alias (prefix with @)
cy.get('@WednesdayBtn')
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsONDlB8oh56mciIXRzTF2I" -->
## Intercept a request generated by a button click and wait for server's response
::
```js
cy.intercept(method, url)
  .as('getInfo');

cy.get('@MyButton').click();

cy.wait('@getInfo');
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsXijSVxCwJofJxKi2SXlBt" -->
## Stubbing an empty response for listing users
::
```js

cy.intercept(
  {
    method: 'GET',
    url: '/users/*',
  },
  []
).as('getNoUsers')
```
<!-- basicblock-end -->

---

<!-- basicblock-start oid="Obsd4J4Cdsh5isLJ63M9LWKr" -->
## Stubbing a response with headers, status code and body
::
```js
cy.intercept('/not-found', {
  statusCode: 404,
  body: '404 Not Found!',
  headers: {
    'x-not-found': 'true',
  },
});
```
<!-- basicblock-end -->

---

<!-- basicblock-start oid="ObsBJda7DcDBgc06auZP3Nn2" -->
## Stubbing fixtures
::
```js
cy.intercept(
  'GET',
  '/activities/*',
  { fixture: 'activities.json' }
);
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsKuYTPlN94aqgZG0rZxctk" -->
## Disable video recording
::
`cypress.json`:
```json
{
  "video": false
}
```
<!-- basicblock-end -->



---

<!-- basicblock-start oid="ObsvB7AMsjJyN3SuQYPGE3ni" -->
## Example of a cypress custom command
::
`cypress/support/commands.js`:
```js
Cypress.Commands.add(cmdName, cmdFunction);

// get an element using the data-cy attribute
Cypress.Commands.add("dataCy", (value) => {
  return cy.get(`[data-cy=${value}]`);
});

// now we can use this:
cy.dataCy('Wednesday')
```
<!-- basicblock-end -->


